---
include:
  - "https://gitlab.dune-project.org/core/ci-config/raw/master/config/common/master.yml"
  - "https://gitlab.dune-project.org/core/ci-config/raw/master/jobs/common/master.yml"

variables:
  # remove some unused 3rd party packages to speed up tests.
  DUNECI_CMAKE_FLAGS: "-DCMAKE_DISABLE_FIND_PACKAGE_Alberta=TRUE -DCMAKE_DISABLE_FIND_PACKAGE_Vc=TRUE -DCMAKE_DISABLE_DOCUMENTATION=TRUE"

before_script:
  - duneci-install-module https://gitlab.dune-project.org/core/dune-common.git
  - duneci-install-module https://gitlab.dune-project.org/core/dune-geometry.git
  - duneci-install-module https://gitlab.dune-project.org/core/dune-grid.git

debian:10  gcc:c++17:
  image: duneci/debian:10
  script: duneci-standard-test
    
ubuntu:18.04--gcc:
  image: duneci/ubuntu:18.04
  script: duneci-standard-test

ubuntu:18.04--clang:
  image: duneci/ubuntu:18.04
  script: duneci-standard-test
